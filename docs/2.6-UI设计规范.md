# 2.6 UI/UX 设计规范

## 1. 设计原则

### 1.1 极简主义 (Minimalism)
- **少即是多**: 界面元素最小化，专注核心功能
- **去除干扰**: 无广告、无多余按钮、无复杂菜单
- **呼吸空间**: 充足的留白，降低视觉压力

### 1.2 即时反馈 (Immediate Feedback)
- **交互响应**: 任何操作都有即时视觉反馈
- **加载状态**: 明确的加载指示器
- **流式呈现**: AI 响应逐字显示，避免空白等待

### 1.3 用户控制 (User Control)
- **主动召唤**: AI 不主动干预，由用户发起
- **清晰退出**: 任何流程都可以轻松取消
- **无惩罚探索**: 允许用户自由尝试

---

## 2. 设计系统

### 2.1 色彩方案

#### **主色调 (Primary)**
```css
--primary: 220 70% 50%;      /* 蓝色 #2563EB */
--primary-foreground: 0 0% 100%;  /* 白色文字 */
```

**用途**: 主要按钮、链接、强调元素

#### **中性色 (Neutral)**
```css
--background: 0 0% 100%;           /* 纯白背景 */
--foreground: 222 47% 11%;         /* 深灰文字 #0F172A */
--muted: 210 40% 96%;             /* 浅灰背景 #F1F5F9 */
--muted-foreground: 215 16% 47%;  /* 次要文字 #64748B */
--border: 214 32% 91%;            /* 边框 #E2E8F0 */
```

#### **语义色 (Semantic)**
```css
--success: 142 76% 36%;    /* 成功 #16A34A */
--warning: 38 92% 50%;     /* 警告 #F59E0B */
--error: 0 72% 51%;        /* 错误 #DC2626 */
```

#### **暗色模式 (Dark Mode)** [V2.0]
```css
--background: 222 47% 11%;         /* 深色背景 */
--foreground: 210 40% 98%;         /* 浅色文字 */
--primary: 217 91% 60%;            /* 亮蓝色 */
```

---

### 2.2 排版系统

#### **字体家族**
```css
/* 中文优先 */
font-family: -apple-system, BlinkMacSystemFont, "PingFang SC",
             "Microsoft YaHei", "Segoe UI", Roboto, "Helvetica Neue",
             Arial, sans-serif;

/* 代码字体 */
font-family-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono",
                  Consolas, "Courier New", monospace;
```

#### **字号尺度**
```css
--text-xs:   0.75rem;   /* 12px - 辅助文字 */
--text-sm:   0.875rem;  /* 14px - 次要文字 */
--text-base: 1rem;      /* 16px - 正文 */
--text-lg:   1.125rem;  /* 18px - 阅读正文 */
--text-xl:   1.25rem;   /* 20px - 小标题 */
--text-2xl:  1.5rem;    /* 24px - 标题 */
--text-3xl:  1.875rem;  /* 30px - 大标题 */
--text-4xl:  2.25rem;   /* 36px - 超大标题 */
```

#### **行高**
```css
--leading-tight:  1.25;   /* 紧凑 */
--leading-normal: 1.5;    /* 正常 */
--leading-relaxed: 1.75;  /* 宽松 - 阅读正文推荐 */
--leading-loose: 2;       /* 超宽松 */
```

#### **字重**
```css
--font-normal: 400;   /* 正文 */
--font-medium: 500;   /* 强调 */
--font-semibold: 600; /* 小标题 */
--font-bold: 700;     /* 标题 */
```

---

### 2.3 间距系统

```css
--spacing-0: 0;
--spacing-1: 0.25rem;   /* 4px */
--spacing-2: 0.5rem;    /* 8px */
--spacing-3: 0.75rem;   /* 12px */
--spacing-4: 1rem;      /* 16px */
--spacing-6: 1.5rem;    /* 24px */
--spacing-8: 2rem;      /* 32px */
--spacing-12: 3rem;     /* 48px */
--spacing-16: 4rem;     /* 64px */
```

**使用原则**:
- 相关元素间距: 4-8px
- 组件内部间距: 16-24px
- 模块之间间距: 32-48px
- 页面边距: 48-64px

---

### 2.4 圆角与阴影

#### **圆角 (Border Radius)**
```css
--radius-sm: 0.25rem;   /* 4px - 小元素 */
--radius-md: 0.5rem;    /* 8px - 按钮、卡片 */
--radius-lg: 0.75rem;   /* 12px - 大卡片 */
--radius-xl: 1rem;      /* 16px - 模态框 */
--radius-full: 9999px;  /* 完全圆形 */
```

#### **阴影 (Shadow)**
```css
--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);  /* 轻微提升 */
--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1); /* 正常卡片 */
--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1); /* 浮动元素 */
--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1); /* 模态框 */
```

---

## 3. 核心界面设计

### 3.1 文章输入界面

```
┌──────────────────────────────────────────────────┐
│                                                  │
│                                                  │
│               InsightReader                      │
│           划词即问，即刻理解                      │
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │                                            │ │
│  │   粘贴文章内容...                          │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  │                                            │ │
│  └────────────────────────────────────────────┘ │
│                                                  │
│  245 字符                      [开始阅读] ─────→ │
│                                                  │
└──────────────────────────────────────────────────┘
```

**设计要点**:
- 居中布局，聚焦核心功能
- 大标题 + 简短 Slogan
- 输入框高度足够 (400px+)
- 字符计数实时显示
- 按钮右对齐，视觉引导

---

### 3.2 双栏阅读界面

```
┌────────────────────────────────────────────────────────────────────┐
│ [<] InsightReader                               [@] [=]            │
├────────────────────────┬───────────────────────────────────────────┤
│                        │                                           │
│   人工智能的发展       │                                           │
│                        │                                           │
│   人工智能正在改变世界。│          [空白状态]                       │
│   近年来，深度学习技术  │                                           │
│   取得了突破性进展。    │       选中文本，提出问题                   │
│                        │                                           │
│   这些进展不仅体现在    │       AI 会帮你深度理解                    │
│   图像识别领域，也延伸  │                                           │
│   到了自然语言处理、    │                                           │
│   推荐系统等多个方向。  │                                           │
│                        │                                           │
│   然而，AI的发展也带来  │                                           │
│   了伦理和安全方面的    │                                           │
│   挑战。我们需要在技术  │                                           │
│   进步和社会责任之间    │                                           │
│   找到平衡。            │                                           │
│                        │                                           │
│   [继续滚动...]         │                                           │
│                        │                                           │
└────────────────────────┴───────────────────────────────────────────┘
```

**布局比例**:
- 左侧文章面板: 60% (或 `flex-1`)
- 右侧洞察面板: 40% (或 固定 `500px`)
- 分隔线: 1px 灰色边框

**响应式**:
- 桌面 (>1024px): 双栏并排
- 平板 (768-1024px): 左侧 70%, 右侧 30%
- 手机 (<768px): 单栏，洞察以抽屉形式弹出

---

### 3.3 划词交互

```
用户选中文本 "康德的绝对命令"
             │
             ▼
┌──────────────────────────────────────┐
│  康德的绝对命令...                    │  ← 选中文本高亮
└──────────────┬───────────────────────┘
               │
               ▼ (弹出 Popover)
    ┌────────────────────────┐
    │ "康德的绝对命令..."    │
    ├────────────────────────┤
    │ [?] 这是什么意思？      │ ← 推荐意图
    │ [🧠] 作者为什么这么说？ │
    │ [✏️] 自定义问题...      │ ← V2.0
    └────────────────────────┘
```

**交互细节**:
1. 用户选中文本 → 文本高亮（淡蓝色背景）
2. 鼠标释放 → 弹出 Popover（位置在选中文本下方 10px）
3. 用户点击按钮 → Popover 关闭，右侧开始生成洞察
4. 点击空白处 → Popover 关闭，高亮消失

**Popover 样式**:
```css
.intent-popover {
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  padding: 12px;
  min-width: 280px;
}

.intent-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid #E2E8F0;
  transition: all 0.2s;
}

.intent-button:hover {
  background: #F1F5F9;
  border-color: #2563EB;
}
```

---

### 3.4 洞察卡片展示

```
┌──────────────────────────────────────────┐
│  [加载状态]                               │
│                                          │
│   ⏳ AI 思考中...                        │
│   ━━━━━━━━━━━━━━━━━━━━━ 60%            │
│                                          │
└──────────────────────────────────────────┘

                ↓ (流式生成)

┌──────────────────────────────────────────┐
│  [打字机效果]                             │
│                                          │
│   康德的绝对命令█                         │
│                                          │
└──────────────────────────────────────────┘

                ↓ (完成)

┌──────────────────────────────────────────┐
│  康德的绝对命令                           │
│  ────────────────────────────────────   │
│                                          │
│  **含义**：简单来说，就是"你希望自己的 │
│  行为规则能被所有人遵守吗？"比如，如果  │
│  你撒谎，你能接受"人人都撒谎"成为社会   │
│  规则吗？显然不行。                       │
│                                          │
│  **背景**：康德认为，道德不应该基于后果  │
│  （功利），而应该基于义务本身...         │
│                                          │
│  ────────────────────────────────────   │
│  claude-3-5-sonnet · 245 tokens · 1.2s │
│  [💾 收藏] [↗️ 分享] [🔄 重新生成]       │
└──────────────────────────────────────────┘
```

**样式**:
```css
.insight-card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.insight-content {
  font-size: 16px;
  line-height: 1.75;
  color: #0F172A;
}

.insight-metadata {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #E2E8F0;
  font-size: 12px;
  color: #64748B;
}

.insight-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}
```

---

## 4. 动画与过渡

### 4.1 Popover 出现

```css
@keyframes popover-in {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.popover {
  animation: popover-in 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}
```

### 4.2 打字机效果

```typescript
// 逐字渲染
const appendText = (char: string) => {
  content.value += char
  // 滚动到底部
  nextTick(() => {
    container.value.scrollTop = container.value.scrollHeight
  })
}
```

### 4.3 加载指示器

```vue
<template>
  <div class="loading-dots">
    <span></span>
    <span></span>
    <span></span>
  </div>
</template>

<style>
.loading-dots span {
  animation: bounce 1.4s infinite ease-in-out;
}
.loading-dots span:nth-child(1) { animation-delay: -0.32s; }
.loading-dots span:nth-child(2) { animation-delay: -0.16s; }

@keyframes bounce {
  0%, 80%, 100% { transform: scale(0); }
  40% { transform: scale(1); }
}
</style>
```

---

## 5. 可访问性 (Accessibility)

### 5.1 键盘导航

```typescript
// 全局快捷键
const shortcuts = {
  'Escape': () => closePopover(),       // 关闭弹窗
  'Ctrl+Enter': () => startReading(),   // 开始阅读
  '/': () => focusSearch(),             // 聚焦搜索 (V2.0)
}
```

### 5.2 ARIA 标签

```vue
<button
  aria-label="这是什么意思"
  role="button"
  @click="handleExplain"
>
  <Icon name="help-circle" aria-hidden="true" />
  这是什么意思？
</button>
```

### 5.3 焦点管理

```typescript
// 弹出 Popover 时自动聚焦第一个按钮
watch(showPopover, (show) => {
  if (show) {
    nextTick(() => {
      firstButton.value?.focus()
    })
  }
})
```

---

## 6. 响应式设计

### 6.1 断点系统

```css
/* Tailwind 默认断点 */
--breakpoint-sm: 640px;   /* 手机 */
--breakpoint-md: 768px;   /* 平板 */
--breakpoint-lg: 1024px;  /* 桌面 */
--breakpoint-xl: 1280px;  /* 大屏 */
```

### 6.2 移动端优化 (V2.0)

```
┌──────────────────────┐
│ [<] InsightReader    │
├──────────────────────┤
│                      │
│  人工智能正在改变世界。│
│  近年来，深度学习技术  │
│  取得了突破性进展。    │
│                      │
│  [选中文本触发...]    │
│                      │
└──────────────────────┘
        │
        ▼ (点击后)
┌──────────────────────┐
│ [×] 洞察              │ ← 全屏抽屉
├──────────────────────┤
│                      │
│  康德的绝对命令       │
│  ──────────────────  │
│                      │
│  **含义**：简单来说， │
│  就是"你希望自己的... │
│                      │
│  [向上滑动关闭]       │
│                      │
└──────────────────────┘
```

---

## 7. 性能优化

### 7.1 骨架屏

```vue
<template>
  <div v-if="loading" class="skeleton">
    <div class="skeleton-line"></div>
    <div class="skeleton-line"></div>
    <div class="skeleton-line short"></div>
  </div>
  <div v-else>
    {{ content }}
  </div>
</template>

<style>
.skeleton-line {
  height: 16px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: 4px;
  margin-bottom: 8px;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
</style>
```

### 7.2 图片懒加载

```vue
<img
  v-lazy="imageUrl"
  loading="lazy"
  alt="..."
/>
```

---

## 8. 设计交付物

### 8.1 组件库 (Storybook)

```bash
# 运行组件库
npm run storybook

# 访问
http://localhost:6006
```

### 8.2 Figma 设计稿

**必需页面**:
- [ ] 文章输入页
- [ ] 双栏阅读界面（空白状态）
- [ ] 双栏阅读界面（加载中）
- [ ] 双栏阅读界面（洞察展示）
- [ ] 划词 Popover
- [ ] 移动端适配

**组件库**:
- [ ] Button（各种变体）
- [ ] Card
- [ ] Popover
- [ ] Loading
- [ ] Textarea

---

## 9. 品牌标识 (V2.0)

### 9.1 Logo 设计

**概念**: 灯泡 + 书本 + 对话气泡的组合

```
    ●    ← 灯泡（洞察）
   / \
  /___\  ← 书本（阅读）
   | |   ← 对话气泡（交互）
```

### 9.2 Slogan

- 主 Slogan: "划词即问，即刻理解"
- 副 Slogan: "最好的阅读辅助工具"
- 英文: "Ask by Selection, Understand Instantly"

---

**文档版本**: 2.0（基于最新产品蓝图）
**最后更新**: 2025-01-19
